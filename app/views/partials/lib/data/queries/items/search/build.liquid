{% parse_json sort_options %}
{
   "price_desc": { "properties": { "name": "price", "order": "DESC" }},
   "price_asc": { "properties": { "name": "price", "order": "ASC" }},
   "name_desc": { "properties": { "name": "name", "order": "DESC" }},
   "name_asc": { "properties": { "name": "name", "order": "ASC" }},
   "created_at_desc": { "created_at": { "order": "DESC" }},
   "created_at_asc": { "created_at": { "order": "ASC" }}
}
{% endparse_json %}

{% parse_json query %}
{
  "limit": {{ limit | default: 20 }},
  "keyword": {{ params.k | json }},
  "sort": {{ sort_options[params.sort] | json }},
  "owner": {{ owner | json }},
  "category": {{ params.category | json }},
  "withOrders": {{ withOrders | default: false }}

}
{% endparse_json %}

{% return query %}
